<!DOCTYPE html>
<html lang="en">
  <head>
    <%= erb :head %>
    <script src="/js/changePasswordController.js"></script>
  </head>

  <body ng-app="aepi-fantasy" ng-controller="HomeController" ng-cloak>

    <div class="container">
      <!-- Static navbar -->
      <%= erb :header %>
      
      <h1>User Profile - <%= @user.username %></h1>
      <br/>

      <div class="container-fluid">
      	<form class="form-horizontal" role="form" ng-controller="ChangePasswordController">
		  <div class="form-group">
		    <label for="currentPassword" class="col-sm-2 control-label">Current Password</label>
		    <div class="col-sm-3">
		      <input type="password" class="form-control" id="currentPassword" ng-model="password.currentPassword"/>
		    </div>
		  </div>
		  <div class="form-group">
		    <label for="newPassword1" class="col-sm-2 control-label">New Password</label>
		    <div class="col-sm-3">
		      <input type="password" class="form-control" id="newPassword1" ng-model="password.newPassword1"/>
		    </div>
		  </div>
		  <div class="form-group has-feedback" ng-class="confirmNewPasswordClass()">
		    <label for="newPassword2" class="col-sm-2 control-label">Confirm New Password </label>
		    <div class="col-sm-3">
		      <input type="password" class="form-control" id="newPassword2" ng-model="password.newPassword2">
		      <span class="glyphicon glyphicon-warning-sign form-control-feedback" ng-hide="syncedPassword"></span>
		    </div>
		    <div class="col-sm-2" ng-hide="syncedPassword">
		    	<span class="password-match">Passwords do not match</span>
		    </div>
		  </div>
		  <div class="form-group">
		    <div class="col-sm-offset-2 col-sm-1">
		      <button type="submit" class="btn btn-default" ng-click="changePassword()">Submit</button>
		    </div>
		    <div class="col-sm-4">
		    	<span class="password-message">{{passwordMessage}}</span>
		    </div>
		  </div>
		</form>
      </div>



    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
    <script src="/lib/bootstrap.min.js"></script>
  </body>
</html>
