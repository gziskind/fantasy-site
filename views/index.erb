<!DOCTYPE html>
<html lang="en">
  <head>
    <%= erb :head %>
  </head>

  <body ng-app="aepi-fantasy" ng-controller="HomeController" ng-cloak>

    <div class="container">
      <!-- Static navbar -->
      <%= erb :header %>
      
      <div class="container-fluid">
        <h1>AEPi Fantasy League</h1>
        <div class="row">
          <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12 row-fluid">
            <h3 class="col-lg-12 col-md-12 col-xs-12">Most Championships</h3>
            <% @championships.each {|championship| %>
              <div class="col-lg-12 col-xs-12 row-fluid">
                <div class="col-md-6 col-xs-8"><%= championship[0] %></div>
                <div class="col-md-1 col-xs-1"><%= championship[1] %></div>
              </div>
            <% } %>
          </div>
          <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12 row-fluid">
            <h3 class="col-lg-12 col-md-12 col-xs-12">Most Last Place Finishes</h3>
            <% @last_places.each {|last_place| %>
              <div class="col-lg-12 row-fluid">
                <div class="col-md-6 col-xs-8"><%= last_place[0] %></div>
                <div class="col-md-1 col-xs-1"><%= last_place[1] %></div>
              </div>
            <% } %>
          </div>
        </div>
        <% if(@user != nil) %>
          <div class="row">
            <div class="col-lg-6 col-md-12 col-sm-12 col-xs-12 row-fluid">
                <h3 class="col-lg-12 col-xs-12">Best Team Names</h3>
                <div class="col-lg-12 col-xs-12 row-fluid header">
                  <div class="col-lg-6 col-md-6 col-xs-7">Team Name</div>
                  <div class="col-lg-4 col-md-4 col-xs-3">Owner</div>
                  <div class="col-lg-1 col-md-1 col-xs-2">Rating</div>
                </div>
                <% index = 0; while index < 10 && index < @team_names.length %>
                <div class="col-lg-12 col-xs-12 row-fluid">
                  <div class="col-lg-6 col-md-6 col-xs-7" style="padding-right:0;"><%= @team_names.reverse[index][:name] %></div>
                  <div class="col-lg-4 col-md-4 col-xs-4" style="padding-right:0;"><%= @team_names.reverse[index][:owner] %></div>
                  <div class="col-lg-1 col-md-1 col-xs-1" style="padding-right:0;"><%= @team_names.reverse[index][:rating] %></div>
                </div>
                <% index+=1; end %>
            </div>
            <div class="col-lg-6 col-md-12 col-sm-12 col-xs-12 row-fluid">
                <h3 class="col-lg-12 col-xs-12">Worst Team Names</h3>
                <div class="row-fluid col-xs-12 col-lg-12 header">
                  <div class="col-md-6 col-xs-7">Team Name</div>
                  <div class="col-md-4 col-xs-3">Owner</div>
                  <div class="col-md-1 col-xs-2">Rating</div>
                </div>
                <% index = 0; while index < 10 && index < @team_names.length %>
                <div class="row-fluid col-xs-12 col-lg-12">
                  <div class="col-md-6 col-xs-7" style="padding-right:0;"><%= @team_names[index][:name] %></div>
                  <div class="col-md-4 col-xs-4" style="padding-right:0;"><%= @team_names[index][:owner] %></div>
                  <div class="col-md-1 col-xs-1" style="padding-right:0;"><%= @team_names[index][:rating] %></div>
                </div>
                <% index+=1; end %>
            </div>
          </div>
        <% end %>
      </div>  
    </div>



    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
    <script src="/lib/bootstrap.min.js"></script>
  </body>
</html>
